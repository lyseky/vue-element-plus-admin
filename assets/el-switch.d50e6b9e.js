import{E as e,O as a,F as i,aM as t,ao as l,aL as n,d as s,V as o,S as c,H as r,ar as v,r as u,U as d,v as f,aF as p,C as m,o as h,c as y,e as b,a as g,n as k,au as x,h as I,w,$ as C,Q as S,Z as V,t as T,a0 as _,g as B,at as N,a1 as E,aw as j,_ as P,W as F,N as U,aW as K,ax as W,a2 as z}from"./index.f3f4d7ae.js";import{i as A}from"./validator.1c19cce1.js";import{U as H,C as L,I as M}from"./event.d298a7ab.js";import{u as O,a as Q}from"./index.af14e373.js";import{u as Z}from"./el-button.bc0e1fcf.js";const $=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:A},tabindex:{type:[String,Number]}}),q=["onClick"],D=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],G=["aria-hidden"],J=["aria-hidden"],R=["aria-hidden"],X=["aria-hidden"];const Y=z(P(s({name:"ElSwitch",props:$,emits:{[H]:e=>t(e)||l(e)||n(e),[L]:e=>t(e)||l(e)||n(e),[M]:e=>t(e)||l(e)||n(e)},setup(e,{expose:a,emit:i}){const l=e,n="ElSwitch",s=F(),{formItem:P}=O(),z=o(),A=c("switch");Z({from:'"value"',replacement:'"model-value" or "v-model"',scope:n,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},r((()=>{var e;return!!(null==(e=s.vnode.props)?void 0:e.value)})));const{inputId:$}=Q(l,{formItemContext:P}),Y=v(r((()=>l.loading))),ee=u(!1!==l.modelValue),ae=u(),ie=u(),te=r((()=>[A.b(),A.m(z.value),A.is("disabled",Y.value),A.is("checked",se.value)])),le=r((()=>({width:d(l.width)})));f((()=>l.modelValue),(()=>{ee.value=!0})),f((()=>l.value),(()=>{ee.value=!1}));const ne=r((()=>ee.value?l.modelValue:l.value)),se=r((()=>ne.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(ne.value)||(i(H,l.inactiveValue),i(L,l.inactiveValue),i(M,l.inactiveValue)),f(se,(e=>{var a;ae.value.checked=e,l.validateEvent&&(null==(a=null==P?void 0:P.validate)||a.call(P,"change").catch((e=>p())))}));const oe=()=>{const e=se.value?l.inactiveValue:l.activeValue;i(H,e),i(L,e),i(M,e),U((()=>{ae.value.checked=se.value}))},ce=()=>{if(Y.value)return;const{beforeChange:e}=l;if(!e)return void oe();const a=e();[K(a),t(a)].includes(!0)||W(n,"beforeChange must return type `Promise<boolean>` or `boolean`"),K(a)?a.then((e=>{e&&oe()})).catch((e=>{})):a&&oe()},re=r((()=>A.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return m((()=>{ae.value.checked=se.value})),a({focus:()=>{var e,a;null==(a=null==(e=ae.value)?void 0:e.focus)||a.call(e)}}),(e,a)=>(h(),y("div",{class:k(g(te)),style:E(g(re)),onClick:j(ce,["prevent"])},[b("input",{id:g($),ref_key:"input",ref:ae,class:k(g(A).e("input")),type:"checkbox",role:"switch","aria-checked":g(se),"aria-disabled":g(Y),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:g(Y),tabindex:e.tabindex,onChange:oe,onKeydown:x(ce,["enter"])},null,42,D),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?V("v-if",!0):(h(),y("span",{key:0,class:k([g(A).e("label"),g(A).em("label","left"),g(A).is("active",!g(se))])},[e.inactiveIcon?(h(),I(g(S),{key:0},{default:w((()=>[(h(),I(C(e.inactiveIcon)))])),_:1})):V("v-if",!0),!e.inactiveIcon&&e.inactiveText?(h(),y("span",{key:1,"aria-hidden":g(se)},T(e.inactiveText),9,G)):V("v-if",!0)],2)),b("span",{ref_key:"core",ref:ie,class:k(g(A).e("core")),style:E(g(le))},[e.inlinePrompt?(h(),y("div",{key:0,class:k(g(A).e("inner"))},[e.activeIcon||e.inactiveIcon?(h(),y(_,{key:0},[e.activeIcon?(h(),I(g(S),{key:0,class:k([g(A).is("icon"),g(se)?g(A).is("show"):g(A).is("hide")])},{default:w((()=>[(h(),I(C(e.activeIcon)))])),_:1},8,["class"])):V("v-if",!0),e.inactiveIcon?(h(),I(g(S),{key:1,class:k([g(A).is("icon"),g(se)?g(A).is("hide"):g(A).is("show")])},{default:w((()=>[(h(),I(C(e.inactiveIcon)))])),_:1},8,["class"])):V("v-if",!0)],64)):e.activeText||e.inactiveIcon?(h(),y(_,{key:1},[e.activeText?(h(),y("span",{key:0,class:k([g(A).is("text"),g(se)?g(A).is("show"):g(A).is("hide")]),"aria-hidden":!g(se)},T(e.activeText.substring(0,3)),11,J)):V("v-if",!0),e.inactiveText?(h(),y("span",{key:1,class:k([g(A).is("text"),g(se)?g(A).is("hide"):g(A).is("show")]),"aria-hidden":g(se)},T(e.inactiveText.substring(0,3)),11,R)):V("v-if",!0)],64)):V("v-if",!0)],2)):V("v-if",!0),b("div",{class:k(g(A).e("action"))},[e.loading?(h(),I(g(S),{key:0,class:k(g(A).is("loading"))},{default:w((()=>[B(g(N))])),_:1},8,["class"])):V("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?V("v-if",!0):(h(),y("span",{key:1,class:k([g(A).e("label"),g(A).em("label","right"),g(A).is("active",g(se))])},[e.activeIcon?(h(),I(g(S),{key:0},{default:w((()=>[(h(),I(C(e.activeIcon)))])),_:1})):V("v-if",!0),!e.activeIcon&&e.activeText?(h(),y("span",{key:1,"aria-hidden":!g(se)},T(e.activeText),9,X)):V("v-if",!0)],2))],14,q))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{Y as E};
