import{C as e,b1 as t,D as o,U as n,aO as s,ax as a,S as u,ce as d,am as l,b3 as c,v as i,c1 as m,c9 as r,cf as v,ca as p,an as f,E as y,F as g,d as b,g as h,z as M,aQ as x}from"./index.f3f4d7ae.js";import{g as E}from"./scroll.d7d432af.js";import{P as k}from"./vnode.ef406536.js";const C=(s,a,u)=>{let d={offsetX:0,offsetY:0};const l=e=>{const t=e.clientX,o=e.clientY,{offsetX:a,offsetY:u}=d,l=s.value.getBoundingClientRect(),c=l.left,i=l.top,m=l.width,r=l.height,v=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=-c+a,y=-i+u,g=v-c-m+a,b=p-i-r+u,h=e=>{const l=Math.min(Math.max(a+e.clientX-t,f),g),c=Math.min(Math.max(u+e.clientY-o,y),b);d={offsetX:l,offsetY:c},s.value.style.transform=`translate(${n(l)}, ${n(c)})`},M=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",M)},c=()=>{a.value&&s.value&&a.value.removeEventListener("mousedown",l)};e((()=>{t((()=>{u.value?a.value&&s.value&&a.value.addEventListener("mousedown",l):c()}))})),o((()=>{c()}))},w=e=>{s(e)||a("[useLockscreen]","You need to pass a ref param to this function");const t=u("popup"),o=d((()=>t.bm("parent","hidden")));if(!l||c(document.body,o.value))return;let n=0,f=!1,y="0",g=0;const b=()=>{p(document.body,o.value),f&&(document.body.style.paddingRight=y)};i(e,(e=>{if(!e)return void b();f=!c(document.body,o.value),f&&(y=document.body.style.paddingRight,g=Number.parseInt(m(document.body,"paddingRight"),10)),n=E(t.namespace.value);const s=document.documentElement.clientHeight<document.body.scrollHeight,a=m(document.body,"overflowY");n>0&&(s||"scroll"===a)&&f&&(document.body.style.paddingRight=`${g+n}px`),r(document.body,o.value)})),v((()=>b()))},L=e=>{if(!e)return{onClick:f,onMousedown:f,onMouseup:f};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{o=e.target===e.currentTarget}}};const Y=b({name:"ElOverlay",props:y({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:g([String,Array,Object])},zIndex:{type:g([String,Number])}}),emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:o}){const n=u("overlay"),{onClick:s,onMousedown:a,onMouseup:d}=L(e.customMaskEvent?void 0:e=>{o("click",e)});return()=>e.mask?h("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:a,onMouseup:d},[M(t,"default")],k.STYLE|k.CLASS|k.PROPS,["onClick","onMouseup","onMousedown"]):x("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[M(t,"default")])}});export{Y as E,w as a,L as b,C as u};
